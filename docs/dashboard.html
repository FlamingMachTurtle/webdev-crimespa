<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crime SPA - Team Plan</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0f0f23;
            color: #e4e4e7;
            line-height: 1.5;
        }
        
        /* Header */
        .header {
            background: #1a1a2e;
            border-bottom: 1px solid #2d2d44;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header h1 { font-size: 1.25rem; color: #fff; }
        .countdown {
            background: #dc2626;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.85rem;
        }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem; }
        
        /* Stats */
        .stats {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .stat {
            background: #1a1a2e;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            text-align: center;
            min-width: 100px;
        }
        .stat-value { font-size: 1.75rem; font-weight: 700; }
        .stat-label { font-size: 0.75rem; color: #71717a; }
        
        /* Progress Bars */
        .progress-section {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .progress-section h2 {
            font-size: 1rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #2d2d44;
        }
        .progress-bars {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .progress-row {
            display: grid;
            grid-template-columns: 100px 1fr 120px;
            gap: 1rem;
            align-items: center;
        }
        .progress-name {
            font-weight: 600;
            font-size: 0.9rem;
        }
        .progress-bar-container {
            background: #0f0f23;
            border-radius: 8px;
            height: 28px;
            position: relative;
            overflow: hidden;
            border: 1px solid #2d2d44;
        }
        .progress-bar-fill {
            height: 100%;
            border-radius: 6px 0 0 6px;
            position: absolute;
            left: 0;
            top: 0;
            transition: width 0.3s ease;
        }
        .progress-bar-pending {
            height: 100%;
            position: absolute;
            top: 0;
            transition: all 0.3s ease;
            background: repeating-linear-gradient(
                45deg,
                #eab308,
                #eab308 10px,
                #ca8a04 10px,
                #ca8a04 20px
            );
            opacity: 0.7;
        }
        .progress-bar-text {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.75rem;
            font-weight: 600;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
            white-space: nowrap;
        }
        .progress-percent {
            text-align: right;
            font-size: 0.9rem;
        }
        .percent-done {
            font-weight: 700;
        }
        .percent-pending {
            color: #eab308;
            font-size: 0.8rem;
        }
        .eli-fill { background: linear-gradient(90deg, #1e40af, #3b82f6); }
        .map-fill { background: linear-gradient(90deg, #5b21b6, #8b5cf6); }
        .frontend-fill { background: linear-gradient(90deg, #9d174d, #ec4899); }
        
        /* Task Dependency Maps */
        .task-map-section {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .task-map-section h2 {
            font-size: 1rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #2d2d44;
        }
        .maps-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        /* Flow Map */
        .flow-map {
            background: #0f0f23;
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid #2d2d44;
        }
        .flow-map h3 {
            font-size: 0.8rem;
            color: #71717a;
            margin-bottom: 1.25rem;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .flow-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem 2rem;
            align-items: start;
        }
        .flow-column {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .flow-column-header {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.4rem 0.5rem;
            border-radius: 4px;
            text-align: center;
            margin-bottom: 0.5rem;
        }
        .flow-column-header.api { background: #1e3a8a; color: #93c5fd; }
        .flow-column-header.map { background: #4c1d95; color: #c4b5fd; }
        .flow-column-header.table { background: #831843; color: #f9a8d4; }
        .flow-column-header.other { background: #18181b; color: #a1a1aa; }
        
        .flow-chain {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
            padding: 0.5rem;
            background: #141420;
            border-radius: 6px;
            border: 1px solid #27272a;
        }
        .flow-chain-label {
            font-size: 0.6rem;
            color: #52525b;
            text-transform: uppercase;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .layer-badge {
            font-size: 0.55rem;
            font-weight: 700;
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            letter-spacing: 0.02em;
        }
        .layer-badge.layer-1 {
            background: #065f46;
            color: #6ee7b7;
            border: 1px solid #10b981;
        }
        .layer-badge.layer-2 {
            background: #1e3a8a;
            color: #93c5fd;
            border: 1px solid #3b82f6;
        }
        .layer-badge.layer-3 {
            background: #4c1d95;
            color: #c4b5fd;
            border: 1px solid #8b5cf6;
        }
        .layer-badge.layer-4 {
            background: #831843;
            color: #f9a8d4;
            border: 1px solid #ec4899;
        }
        .layer-badge.done {
            background: #052e16;
            color: #4ade80;
            border: 1px solid #22c55e;
        }
        .flow-row {
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }
        .flow-arrow {
            color: #3f3f46;
            font-size: 0.7rem;
        }
        
        /* Dependency Tree - Grid Based Flow */
        .dependency-tree {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 1rem 0;
        }
        .tree-layer {
            background: linear-gradient(135deg, #141420 0%, #1a1a2e 100%);
            border-radius: 12px;
            padding: 1rem;
            border: 1px solid #2d2d44;
        }
        .tree-layer.layer-start {
            background: linear-gradient(135deg, #0c1929 0%, #1e3a5a 100%);
            border-color: #3b82f6;
        }
        .tree-layer.layer-final {
            background: linear-gradient(135deg, #052e16 0%, #064e3b 100%);
            border-color: #10b981;
        }
        .layer-label {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #6b7280;
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #27272a;
        }
        .tree-nodes {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
        }
        .tree-node-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }
        .tree-node-group.critical .map-node {
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
            animation: critical-pulse 2s ease-in-out infinite;
        }
        @keyframes critical-pulse {
            0%, 100% { box-shadow: 0 0 15px rgba(59, 130, 246, 0.4); }
            50% { box-shadow: 0 0 25px rgba(59, 130, 246, 0.7); }
        }
        .node-label {
            font-size: 0.65rem;
            color: #a1a1aa;
            text-align: center;
            max-width: 70px;
        }
        .node-prereq {
            font-size: 0.55rem;
            color: #6b7280;
            font-style: italic;
        }
        .node-unlocks {
            font-size: 0.55rem;
            color: #10b981;
            font-weight: 600;
        }
        .tree-arrow-down {
            text-align: center;
            font-size: 1.2rem;
            color: #3b82f6;
            font-weight: 700;
        }
        .tree-arrow-down.final-arrow {
            color: #10b981;
            font-size: 0.8rem;
            letter-spacing: 0.1em;
        }
        
        /* Independent Chains Section */
        .independent-section {
            background: linear-gradient(135deg, #141420 0%, #1a1a2e 100%);
            border-radius: 12px;
            padding: 1rem;
            border: 1px dashed #3f3f46;
        }
        .independent-chains {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
        }
        .chain-box {
            background: #0d0d1a;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            border: 1px solid #27272a;
        }
        .chain-box.done-chain {
            border-color: #10b981;
            background: #052e1640;
        }
        .chain-title {
            font-size: 0.6rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }
        .chain-nodes {
            display: flex;
            align-items: center;
            gap: 0.35rem;
        }
        .chain-arrow {
            color: #6b7280;
            font-size: 0.8rem;
        }
        
        .map-node {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            position: relative;
        }
        .map-node:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        .map-node.highlighted {
            transform: scale(1.2);
            z-index: 20;
            animation: pulse-glow 1s ease-in-out infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 10px 2px currentColor; }
            50% { box-shadow: 0 0 20px 5px currentColor; }
        }
        .map-node.api-node { background: #1e3a8a; color: #93c5fd; }
        .map-node.api-node.highlighted { border-color: #3b82f6; color: #3b82f6; }
        .map-node.map-ui-node { background: #5b21b6; color: #c4b5fd; }
        .map-node.map-ui-node.highlighted { border-color: #8b5cf6; color: #8b5cf6; }
        .map-node.frontend-node { background: #9d174d; color: #f9a8d4; }
        .map-node.frontend-node.highlighted { border-color: #ec4899; color: #ec4899; }
        .map-node.form-node { background: #1e40af; color: #93c5fd; }
        .map-node.form-node.highlighted { border-color: #60a5fa; color: #60a5fa; }
        .map-node.done-node { background: #065f46; color: #6ee7b7; border-color: #10b981; }
        .map-node.shared-node { background: #064e3b; color: #6ee7b7; border-color: #10b981; }
        .map-node.shared-node.highlighted { border-color: #34d399; color: #34d399; }
        
        .map-arrow {
            color: #52525b;
            font-size: 1rem;
        }
        .map-connector-row {
            display: flex;
            justify-content: center;
            padding: 0.25rem 0;
        }
        .map-connector {
            color: #52525b;
            font-size: 0.8rem;
        }
        
        /* Category Key */
        .category-map {
            background: #0f0f23;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            border: 1px solid #2d2d44;
        }
        .category-map h3 {
            font-size: 0.7rem;
            color: #52525b;
            margin-bottom: 0.75rem;
            text-align: left;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .category-groups {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem 1.5rem;
        }
        .category-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .category-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: #71717a;
            white-space: nowrap;
        }
        .category-label.api-label { color: #3b82f6; }
        .category-label.map-label { color: #8b5cf6; }
        .category-label.table-label { color: #ec4899; }
        .category-label.form-label { color: #60a5fa; }
        .category-label.filter-label { color: #f472b6; }
        .category-label.about-label { color: #10b981; }
        .category-nodes {
            display: flex;
            gap: 0.25rem;
        }
        .category-node {
            width: 26px;
            height: 26px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.6rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .category-node:hover { transform: scale(1.15); }
        .category-node.highlighted {
            transform: scale(1.25);
            animation: pulse-glow 1s ease-in-out infinite;
        }
        
        /* Task tooltip */
        .map-node[data-tooltip]:hover::after,
        .category-node[data-tooltip]:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #0f0f23;
            color: #e4e4e7;
            padding: 0.35rem 0.5rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 400;
            white-space: nowrap;
            border: 1px solid #2d2d44;
            margin-bottom: 0.25rem;
            z-index: 100;
        }

        /* Mini Progress Bars (in Kanban sections) */
        .mini-progress-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 0.5rem 0;
        }
        .mini-progress-bar-container {
            flex: 1;
            background: #0f0f23;
            border-radius: 6px;
            height: 12px;
            position: relative;
            overflow: hidden;
            border: 1px solid #2d2d44;
        }
        .mini-progress-bar-container .progress-bar-fill {
            height: 100%;
            border-radius: 4px 0 0 4px;
        }
        .mini-progress-bar-container .progress-bar-pending {
            height: 100%;
        }
        .mini-progress-percent {
            min-width: 80px;
            text-align: right;
            font-size: 0.85rem;
        }
        .mini-progress-percent .percent-done {
            font-weight: 700;
        }
        .mini-progress-percent .percent-pending {
            font-size: 0.75rem;
        }
        
        /* Roles */
        .roles-section {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .roles-header {
            font-size: 1rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #2d2d44;
        }
        .roles {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        .role-box {
            background: #0f0f23;
            border: 2px solid #2d2d44;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: all 0.2s;
        }
        .role-box.locked { border-color: #3b82f6; background: #1e293b; }
        .role-box.available { border-color: #f59e0b; border-style: dashed; }
        .role-box.claimed { border-color: #10b981; background: #052e16; }
        .role-box h3 { font-size: 0.9rem; margin-bottom: 0.25rem; }
        .role-box .pts { font-size: 1.5rem; font-weight: 700; }
        .role-box .status {
            font-size: 0.7rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            margin-top: 0.5rem;
            display: inline-block;
        }
        .role-box .status.open { background: #422006; color: #fbbf24; }
        .role-box .status.taken { background: #052e16; color: #4ade80; }
        .role-box .claim-area { margin-top: 0.75rem; }
        .role-box select {
            width: 100%;
            padding: 0.5rem;
            background: #1a1a2e;
            border: 1px solid #2d2d44;
            color: #e4e4e7;
            border-radius: 4px;
            font-size: 0.85rem;
        }
        .role-box .btn {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.5rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.15s;
        }
        .role-box .btn-claim {
            background: #10b981;
            color: #fff;
        }
        .role-box .btn-claim:hover { background: #059669; }
        .role-box .btn-claim:disabled {
            background: #2d2d44;
            color: #71717a;
            cursor: not-allowed;
        }
        .role-box .btn-change {
            background: transparent;
            border: 1px solid #2d2d44;
            color: #a1a1aa;
        }
        .role-box .btn-change:hover { border-color: #71717a; color: #e4e4e7; }
        .role-box .claimed-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        .eli { color: #3b82f6; }
        .map { color: #8b5cf6; }
        .frontend { color: #ec4899; }
        
        /* Kanban */
        .kanban-section {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .kanban-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #2d2d44;
        }
        .kanban-header .dot {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }
        .kanban-header h2 { font-size: 1rem; }
        .kanban-note {
            font-size: 0.8rem;
            color: #71717a;
            margin-left: auto;
        }
        
        .kanban-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        .kanban-col {
            background: #0f0f23;
            border-radius: 8px;
            padding: 0.75rem;
            min-height: 200px;
        }
        .kanban-col-header {
            font-size: 0.75rem;
            font-weight: 600;
            color: #71717a;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #2d2d44;
        }
        .kanban-col.todo .kanban-col-header { color: #f59e0b; }
        .kanban-col.progress .kanban-col-header { color: #3b82f6; }
        .kanban-col.done .kanban-col-header { color: #10b981; }
        
        /* Task Cards */
        .task-card {
            background: #1a1a2e;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            cursor: grab;
            transition: all 0.15s;
        }
        .task-card:hover { border-color: #3b82f6; }
        .task-card.dragging { opacity: 0.5; }
        .task-card.ready { border-left: 3px solid #10b981; }
        .task-card.blocked { border-left: 3px solid #f59e0b; }
        .task-card.done-card { opacity: 0.6; border-left: 3px solid #10b981; }
        
        .task-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .task-id {
            background: #2d2d44;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 700;
            font-family: monospace;
        }
        .task-title {
            font-size: 0.85rem;
            font-weight: 500;
            flex: 1;
        }
        .task-pts {
            font-size: 0.7rem;
            color: #71717a;
            background: #0f0f23;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
        }
        
        .task-details {
            font-size: 0.75rem;
            color: #a1a1aa;
            margin-top: 0.5rem;
        }
        .task-details ul {
            margin: 0.25rem 0 0 1rem;
            padding: 0;
        }
        .task-details li { margin-bottom: 0.15rem; }
        .task-details code {
            background: #2d2d44;
            padding: 0.1rem 0.25rem;
            border-radius: 3px;
            font-size: 0.7rem;
        }
        
        .prereq-warning {
            background: #422006;
            border: 1px solid #f59e0b;
            color: #fbbf24;
            font-size: 0.7rem;
            padding: 0.35rem 0.5rem;
            border-radius: 4px;
            margin-top: 0.5rem;
        }
        .prereq-warning .check { color: #10b981; }
        .prereq-warning .missing { color: #ef4444; }
        
        /* Blocks indicator */
        .blocks-indicator {
            background: #1e1b4b;
            border: 1px solid #4338ca;
            color: #a5b4fc;
            font-size: 0.65rem;
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
            margin-top: 0.5rem;
        }
        .blocks-indicator .blocks-label {
            color: #818cf8;
            font-weight: 600;
        }
        .blocks-indicator .blocks-list {
            color: #c7d2fe;
        }
        
        /* Timeline */
        .timeline-section {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }
        .timeline-section h2 {
            font-size: 1rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #2d2d44;
        }
        
        /* Unified Timeline */
        .unified-timeline {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .timeline-header-row, .timeline-person-row {
            display: grid;
            grid-template-columns: 100px 1fr 50px 2fr 80px;
            gap: 0.5rem;
            align-items: center;
        }
        .timeline-label-col {
            text-align: right;
            padding-right: 0.75rem;
        }
        .person-badge {
            font-weight: 700;
            font-size: 0.9rem;
        }
        .person-role {
            font-size: 0.7rem;
            color: #71717a;
        }
        .eli-badge { color: #3b82f6; }
        .map-badge { color: #8b5cf6; }
        .frontend-badge { color: #ec4899; }
        
        /* Phase headers */
        .timeline-phase {
            text-align: center;
            padding: 0.5rem;
            border-radius: 8px;
        }
        .blocked-phase {
            background: linear-gradient(135deg, #1f1f1f 0%, #2d2d44 100%);
            border: 1px dashed #52525b;
        }
        .unblocked-phase {
            background: linear-gradient(135deg, #052e16 0%, #14532d 100%);
            border: 1px solid #10b981;
        }
        .phase-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 700;
            font-size: 0.85rem;
        }
        .phase-icon { font-size: 1rem; }
        .phase-subtitle {
            font-size: 0.7rem;
            color: #71717a;
            margin-top: 0.25rem;
        }
        .unblocked-phase .phase-subtitle { color: #4ade80; }
        
        /* Unlock bar */
        .timeline-unlock-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .timeline-header-row .timeline-unlock-bar {
            height: 100%;
        }
        .unlock-line {
            width: 3px;
            height: 100%;
            min-height: 30px;
            background: linear-gradient(180deg, #10b981 0%, #059669 100%);
            border-radius: 2px;
        }
        .unlock-icon {
            background: #10b981;
            color: #fff;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            position: absolute;
        }
        .unlock-text {
            font-size: 0.6rem;
            color: #10b981;
            font-weight: 700;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            letter-spacing: 0.05em;
            margin-top: 2rem;
        }
        .timeline-person-row .timeline-unlock-bar {
            height: 100%;
        }
        .timeline-person-row .timeline-unlock-bar::before {
            content: '';
            width: 3px;
            height: 100%;
            background: linear-gradient(180deg, #10b981 0%, #059669 100%);
            border-radius: 2px;
        }
        
        /* Task columns */
        .timeline-task-col {
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 8px;
            min-height: 60px;
            align-items: center;
        }
        .blocked-col {
            background: #0f0f23;
            border: 1px dashed #2d2d44;
        }
        .unblocked-col {
            background: #0a1a0a;
            border: 1px solid #14532d;
        }
        
        /* Task blocks */
        .task-block {
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            text-align: center;
            flex: 1;
        }
        .task-ids {
            font-weight: 600;
            font-size: 0.8rem;
        }
        .task-label {
            font-size: 0.65rem;
            color: #a1a1aa;
            margin-top: 0.15rem;
        }
        .eli-task { background: #1e3a8a; }
        .eli-task.required { border: 2px solid #3b82f6; }
        .eli-task .task-label { color: #93c5fd; }
        .map-task { background: #5b21b6; }
        .map-task .task-label { color: #c4b5fd; }
        .frontend-task { background: #9d174d; }
        .frontend-task .task-label { color: #f9a8d4; }
        .optional-task {
            background: #1f1f1f;
            border: 1px dashed #52525b;
        }
        .optional-task .task-label { color: #71717a; }
        .help-task {
            background: #1a1a2e;
            color: #52525b;
            flex: 0.5;
        }
        .video-task {
            background: #065f46;
            color: #fff;
            font-weight: 600;
            font-size: 0.75rem;
        }
        .submit-task {
            background: #dc2626;
            color: #fff;
            font-weight: 700;
            font-size: 0.75rem;
        }
        
        /* Deadline column */
        .timeline-deadline {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
        }
        .deadline-label {
            font-size: 0.6rem;
            color: #dc2626;
            font-weight: 700;
            letter-spacing: 0.05em;
        }
        .deadline-time {
            font-size: 0.75rem;
            color: #fca5a5;
            font-weight: 600;
        }
        
        /* Done section */
        .done-section {
            background: #1a1a2e;
            border-radius: 12px;
            padding: 1.25rem;
        }
        .done-section h2 {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: #10b981;
        }
        .done-list {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        .done-item {
            background: #065f46;
            padding: 0.4rem 0.75rem;
            border-radius: 6px;
            font-size: 0.8rem;
        }

        @media (max-width: 900px) {
            .roles { grid-template-columns: 1fr; }
            .kanban-board { grid-template-columns: 1fr; }
        }
        
        /* Assignment Outline Styles */
        .assignment-outline {
            background: #0f0f1a;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            border: 1px solid #1e1e2e;
            overflow: hidden;
        }
        
        /* Collapsible Header */
        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }
        .collapsible-header:hover {
            background: rgba(255,255,255,0.02);
        }
        .collapsible-header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .collapsible-header-left::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
        }
        .collapsible-title {
            font-size: 1rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: #71717a;
            margin: 0;
        }
        .collapsible-hint {
            font-size: 0.7rem;
            color: #52525b;
            font-weight: 400;
            text-transform: none;
            letter-spacing: 0;
            margin-left: 0.75rem;
        }
        .collapsible-chevron {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: #1e1e2e;
            border-radius: 6px;
            transition: transform 0.3s ease, background 0.2s;
        }
        .collapsible-chevron::before {
            content: '';
            width: 8px;
            height: 8px;
            border-right: 2px solid #71717a;
            border-bottom: 2px solid #71717a;
            transform: rotate(45deg) translateY(-2px);
            transition: transform 0.3s ease;
        }
        .collapsible-header:hover .collapsible-chevron {
            background: #27272a;
        }
        
        /* Collapsed state */
        .assignment-outline.collapsed .collapsible-chevron::before {
            transform: rotate(-135deg) translateY(2px);
        }
        .assignment-outline.collapsed .collapsible-hint {
            color: #3b82f6;
        }
        
        /* Collapsible Content */
        .collapsible-content {
            padding: 0 2rem 2rem 2rem;
            max-height: 5000px;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.3s ease, opacity 0.3s ease;
            opacity: 1;
        }
        .assignment-outline.collapsed .collapsible-content {
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
            opacity: 0;
        }
        
        .assignment-outline > h2 {
            font-size: 1rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            margin-bottom: 1.5rem;
            color: #71717a;
            padding-bottom: 1rem;
            border-bottom: 1px solid #27272a;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .assignment-outline > h2::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
        }
        .outline-header {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding: 1rem 1.25rem;
            background: #18181b;
            border-radius: 8px;
            border: 1px solid #27272a;
        }
        .outline-legend {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            font-size: 0.8rem;
            color: #a1a1aa;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }
        .legend-dot.eli { background: #3b82f6; }
        .legend-dot.map { background: #8b5cf6; }
        .legend-dot.frontend { background: #ec4899; }
        .legend-dot.shared { background: #10b981; }
        .legend-dot.done { background: #065f46; border: 1px solid #10b981; }
        
        .outline-section {
            margin-bottom: 2.5rem;
        }
        .outline-section-title {
            font-size: 1rem;
            font-weight: 700;
            color: #fafafa;
            margin-bottom: 1.5rem;
            padding: 0.75rem 1rem;
            background: linear-gradient(90deg, #1a1a2e 0%, transparent 100%);
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .outline-section-title.grade-c {
            border-left-color: #f59e0b;
        }
        .outline-section-title.grade-c::after {
            content: '45 pts = C';
            color: #f59e0b;
            font-weight: 500;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            background: rgba(245, 158, 11, 0.15);
            border-radius: 4px;
        }
        .outline-section-title.grade-ab {
            border-left-color: #10b981;
        }
        .outline-section-title.grade-ab::after {
            content: '+5 pts each';
            color: #10b981;
            font-weight: 500;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            background: rgba(16, 185, 129, 0.15);
            border-radius: 4px;
        }
        
        .outline-category {
            margin-left: 0;
            margin-bottom: 2rem;
            padding: 1.25rem;
            background: #141420;
            border-radius: 10px;
            border: 1px solid #1e1e2e;
        }
        .outline-category-title {
            font-size: 0.9rem;
            font-weight: 700;
            color: #e4e4e7;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #27272a;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.03em;
        }
        .outline-category-icon {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            flex-shrink: 0;
        }
        .outline-category-icon::before {
            font-size: 0.7rem;
            font-weight: 700;
        }
        .cat-map { background: #1e3a5f; border: 1px solid #3b82f6; }
        .cat-map::before { content: 'MAP'; color: #60a5fa; }
        .cat-api { background: #1e3a8a; border: 1px solid #3b82f6; }
        .cat-api::before { content: 'API'; color: #93c5fd; }
        .cat-table { background: #831843; border: 1px solid #ec4899; }
        .cat-table::before { content: 'TBL'; color: #f9a8d4; }
        .cat-marker { background: #4c1d95; border: 1px solid #8b5cf6; }
        .cat-marker::before { content: 'PIN'; color: #c4b5fd; }
        .cat-form { background: #1e3a8a; border: 1px solid #3b82f6; }
        .cat-form::before { content: 'FRM'; color: #93c5fd; }
        .cat-about { background: #064e3b; border: 1px solid #10b981; }
        .cat-about::before { content: 'ABT'; color: #6ee7b7; }
        .cat-filter { background: #831843; border: 1px solid #ec4899; }
        .cat-filter::before { content: 'FLT'; color: #f9a8d4; }
        .cat-style { background: #064e3b; border: 1px solid #10b981; }
        .cat-style::before { content: 'CSS'; color: #6ee7b7; }
        .cat-delete { background: #7f1d1d; border: 1px solid #dc2626; }
        .cat-delete::before { content: 'DEL'; color: #fca5a5; }
        .cat-location { background: #1e3a8a; border: 1px solid #3b82f6; }
        .cat-location::before { content: 'LOC'; color: #93c5fd; }
        
        .outline-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.6rem 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #d4d4d8;
            cursor: pointer;
            transition: all 0.15s ease;
            background: transparent;
            border: 1px solid transparent;
        }
        .outline-item:hover {
            background: #1a1a2e;
            border-color: #2d2d44;
        }
        .outline-item.highlighted {
            background: #1e3a8a20;
            border-color: #3b82f6;
        }
        .outline-item.flash-highlight {
            animation: flash-pulse 0.5s ease-in-out 3;
            background: #3b82f640;
            border-color: #3b82f6;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }
        @keyframes flash-pulse {
            0%, 100% { background: #3b82f640; }
            50% { background: #3b82f680; }
        }
        
        .outline-task-badge {
            font-size: 0.75rem;
            font-weight: 700;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            white-space: nowrap;
            flex-shrink: 0;
            min-width: 32px;
            text-align: center;
        }
        .outline-task-badge.eli {
            background: #1e3a8a;
            color: #93c5fd;
            border: 1px solid #3b82f6;
        }
        .outline-task-badge.map {
            background: #4c1d95;
            color: #c4b5fd;
            border: 1px solid #8b5cf6;
        }
        .outline-task-badge.frontend {
            background: #831843;
            color: #f9a8d4;
            border: 1px solid #ec4899;
        }
        .outline-task-badge.shared {
            background: #064e3b;
            color: #6ee7b7;
            border: 1px solid #10b981;
        }
        .outline-task-badge.done {
            background: #052e16;
            color: #4ade80;
            border: 1px solid #22c55e;
        }
        
        .outline-text {
            flex: 1;
            line-height: 1.5;
        }
        .outline-text code {
            background: #1e1e2e;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.8rem;
            color: #a5b4fc;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
        }
        
        .outline-sub-items {
            margin-left: 3.5rem;
            margin-top: 0.5rem;
            margin-bottom: 0.75rem;
            padding: 0.5rem 0.75rem;
            background: #0a0a12;
            border-radius: 6px;
            border-left: 2px solid #27272a;
        }
        .outline-sub-item {
            font-size: 0.8rem;
            color: #71717a;
            padding: 0.35rem 0;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }
        .outline-sub-item::before {
            content: 'â€”';
            color: #3f3f46;
            flex-shrink: 0;
        }
        .outline-sub-item code {
            background: #18181b;
            padding: 0.15rem 0.35rem;
            border-radius: 3px;
            font-size: 0.75rem;
            color: #a5b4fc;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>St. Paul Crime SPA</h1>
        <div class="countdown" id="countdown">Loading...</div>
    </div>

    <div class="container">
        <!-- Stats -->
        <div class="stats">
            <div class="stat">
                <div class="stat-value">45</div>
                <div class="stat-label">Needed</div>
            </div>
            <div class="stat">
                <div class="stat-value" style="color:#10b981">7</div>
                <div class="stat-label">Done</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="completedPts">7</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="remainingPts">38</div>
                <div class="stat-label">Remaining</div>
            </div>
        </div>

        <!-- Progress Bars -->
        <div class="progress-section">
            <h2>Team Progress</h2>
            <div class="progress-bars">
                <!-- Eli Progress -->
                <div class="progress-row">
                    <div class="progress-name eli">Eli</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill eli-fill" id="eli-progress-fill" style="width: 0%"></div>
                        <div class="progress-bar-pending" id="eli-progress-pending" style="left: 0%; width: 0%"></div>
                        <div class="progress-bar-text" id="eli-progress-text">0 / 16 pts</div>
                    </div>
                    <div class="progress-percent">
                        <span class="percent-done eli" id="eli-percent-done">0%</span>
                        <span class="percent-pending" id="eli-percent-pending"></span>
                    </div>
                </div>
                <!-- Map/UI Progress -->
                <div class="progress-row">
                    <div class="progress-name map" id="map-progress-name">Map/UI</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill map-fill" id="map-progress-fill" style="width: 0%"></div>
                        <div class="progress-bar-pending" id="map-progress-pending" style="left: 0%; width: 0%"></div>
                        <div class="progress-bar-text" id="map-progress-text">0 / 8 pts</div>
                    </div>
                    <div class="progress-percent">
                        <span class="percent-done map" id="map-percent-done">0%</span>
                        <span class="percent-pending" id="map-percent-pending"></span>
                    </div>
                </div>
                <!-- Frontend Progress -->
                <div class="progress-row">
                    <div class="progress-name frontend" id="frontend-progress-name">Frontend</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill frontend-fill" id="frontend-progress-fill" style="width: 0%"></div>
                        <div class="progress-bar-pending" id="frontend-progress-pending" style="left: 0%; width: 0%"></div>
                        <div class="progress-bar-text" id="frontend-progress-text">0 / 14 pts</div>
                    </div>
                    <div class="progress-percent">
                        <span class="percent-done frontend" id="frontend-percent-done">0%</span>
                        <span class="percent-pending" id="frontend-percent-pending"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Task Dependency Maps -->
        <div class="task-map-section" id="taskMapSection">
            <h2>Task Dependencies</h2>
            
            <!-- Category Key (compact legend) -->
            <div class="category-map" id="categoryMap">
                <h3>Tasks by Category</h3>
                <div class="category-groups">
                    <div class="category-group">
                        <div class="category-label api-label">API:</div>
                        <div class="category-nodes">
                            <div class="category-node api-node" data-task="A1">A1</div>
                            <div class="category-node api-node" data-task="A2">A2</div>
                            <div class="category-node api-node" data-task="A3">A3</div>
                            <div class="category-node api-node" data-task="A4">A4</div>
                        </div>
                    </div>
                    <div class="category-group">
                        <div class="category-label map-label">Map:</div>
                        <div class="category-nodes">
                            <div class="category-node done-node" data-task="B1">B1</div>
                            <div class="category-node done-node" data-task="B2">B2</div>
                            <div class="category-node map-ui-node" data-task="B3">B3</div>
                            <div class="category-node done-node" data-task="B4">B4</div>
                        </div>
                    </div>
                    <div class="category-group">
                        <div class="category-label map-label">Search:</div>
                        <div class="category-nodes">
                            <div class="category-node map-ui-node" data-task="C1">C1</div>
                            <div class="category-node map-ui-node" data-task="C2">C2</div>
                            <div class="category-node map-ui-node" data-task="C3">C3</div>
                        </div>
                    </div>
                    <div class="category-group">
                        <div class="category-label table-label">Table:</div>
                        <div class="category-nodes">
                            <div class="category-node frontend-node" data-task="D1">D1</div>
                            <div class="category-node frontend-node" data-task="D2">D2</div>
                            <div class="category-node api-node" data-task="D3">D3</div>
                        </div>
                    </div>
                    <div class="category-group">
                        <div class="category-label filter-label">Filters:</div>
                        <div class="category-nodes">
                            <div class="category-node frontend-node" data-task="E1">E1</div>
                            <div class="category-node frontend-node" data-task="E2">E2</div>
                            <div class="category-node frontend-node" data-task="E3">E3</div>
                        </div>
                    </div>
                    <div class="category-group">
                        <div class="category-label form-label">Form:</div>
                        <div class="category-nodes">
                            <div class="category-node form-node" data-task="F1">F1</div>
                            <div class="category-node form-node" data-task="F2">F2</div>
                            <div class="category-node form-node" data-task="F3">F3</div>
                        </div>
                    </div>
                    <div class="category-group">
                        <div class="category-label about-label">About:</div>
                        <div class="category-nodes">
                            <div class="category-node frontend-node" data-task="G1">G1</div>
                            <div class="category-node shared-node" data-task="G2">G2</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Flow Map - Grid Based Dependency Tree -->
            <div class="flow-map" id="flowMap">
                <h3>Dependency Flow (click any task to see details)</h3>
                
                <div class="dependency-tree">
                    <!-- LAYER 0: Starting Point -->
                    <div class="tree-layer layer-start">
                        <div class="layer-label">START HERE</div>
                        <div class="tree-nodes">
                            <div class="tree-node-group critical">
                                <div class="map-node api-node" data-task="A1">A1</div>
                                <div class="node-label">API Connection</div>
                                <div class="node-unlocks">Unlocks 7 tasks</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tree-arrow-down">â†“</div>
                    
                    <!-- LAYER 1: After A1 -->
                    <div class="tree-layer">
                        <div class="layer-label">LAYER 1 â€” After A1</div>
                        <div class="tree-nodes">
                            <div class="tree-node-group">
                                <div class="map-node api-node" data-task="A2">A2</div>
                                <div class="node-label">Neighborhoods</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node api-node" data-task="A3">A3</div>
                                <div class="node-label">Crime Codes</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node api-node" data-task="A4">A4</div>
                                <div class="node-label">Incidents</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node form-node" data-task="F1">F1</div>
                                <div class="node-label">Form UI</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tree-arrow-down">â†“</div>
                    
                    <!-- LAYER 2: After Layer 1 -->
                    <div class="tree-layer">
                        <div class="layer-label">LAYER 2 â€” After A2/A3/A4</div>
                        <div class="tree-nodes">
                            <div class="tree-node-group">
                                <div class="map-node map-ui-node" data-task="B3">B3</div>
                                <div class="node-label">Markers</div>
                                <div class="node-prereq">â† A2 + A4</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node frontend-node" data-task="D1">D1</div>
                                <div class="node-label">Table</div>
                                <div class="node-prereq">â† A4</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node frontend-node" data-task="E2">E2</div>
                                <div class="node-label">Crime Filter</div>
                                <div class="node-prereq">â† A3</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node frontend-node" data-task="E3">E3</div>
                                <div class="node-label">Area Filter</div>
                                <div class="node-prereq">â† A2</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node form-node" data-task="F2">F2</div>
                                <div class="node-label">Form Fields</div>
                                <div class="node-prereq">â† F1 + A3</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tree-arrow-down">â†“</div>
                    
                    <!-- LAYER 3: After Layer 2 -->
                    <div class="tree-layer">
                        <div class="layer-label">LAYER 3 â€” Final features</div>
                        <div class="tree-nodes">
                            <div class="tree-node-group">
                                <div class="map-node frontend-node" data-task="D2">D2</div>
                                <div class="node-label">Table Columns</div>
                                <div class="node-prereq">â† D1</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node form-node" data-task="F3">F3</div>
                                <div class="node-label">POST to API</div>
                                <div class="node-prereq">â† F2</div>
                            </div>
                            <div class="tree-node-group">
                                <div class="map-node api-node" data-task="D3">D3</div>
                                <div class="node-label">Address Lookup</div>
                                <div class="node-prereq">â† D1 + D2</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- INDEPENDENT CHAINS (can start anytime) -->
                    <div class="independent-section">
                        <div class="layer-label">INDEPENDENT â€” Start anytime</div>
                        <div class="independent-chains">
                            <div class="chain-box done-chain">
                                <div class="chain-title">Map (DONE in starter)</div>
                                <div class="chain-nodes">
                                    <div class="map-node done-node" data-task="B1">B1</div>
                                    <div class="map-node done-node" data-task="B2">B2</div>
                                    <div class="map-node done-node" data-task="B4">B4</div>
                                </div>
                            </div>
                            <div class="chain-box">
                                <div class="chain-title">Search</div>
                                <div class="chain-nodes">
                                    <div class="map-node map-ui-node" data-task="C1">C1</div>
                                    <span class="chain-arrow">â†’</span>
                                    <div class="map-node map-ui-node" data-task="C2">C2</div>
                                    <span class="chain-arrow">â†’</span>
                                    <div class="map-node map-ui-node" data-task="C3">C3</div>
                                </div>
                            </div>
                            <div class="chain-box">
                                <div class="chain-title">Date Filter</div>
                                <div class="chain-nodes">
                                    <div class="map-node frontend-node" data-task="E1">E1</div>
                                </div>
                            </div>
                            <div class="chain-box">
                                <div class="chain-title">About Page</div>
                                <div class="chain-nodes">
                                    <div class="map-node frontend-node" data-task="G1">G1</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tree-arrow-down final-arrow">â†“ ALL COMPLETE â†“</div>
                    
                    <!-- FINAL -->
                    <div class="tree-layer layer-final">
                        <div class="layer-label">LAST â€” Demo Video</div>
                        <div class="tree-nodes">
                            <div class="tree-node-group">
                                <div class="map-node shared-node" data-task="G2">G2</div>
                                <div class="node-label">Record Demo</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Roles -->
        <div class="roles-section">
            <h2 class="roles-header">Choose Your Role</h2>
            <div class="roles">
                <div class="role-box locked">
                    <h3>Backend/API</h3>
                    <div class="pts eli">16 pts</div>
                    <div class="status taken">âœ“ Assigned</div>
                    <div class="claimed-name eli">Eli</div>
                    <div style="font-size:0.7rem; color:#71717a; margin-top:0.5rem">A1-A4, F1-F3, D3</div>
                </div>
                <div class="role-box available" id="mapRoleBox">
                    <h3>Map/UI</h3>
                    <div class="pts map">8 pts</div>
                    <div class="status open">âš  Available</div>
                    <div class="claim-area" id="mapClaimArea">
                        <select id="mapRole">
                            <option value="">Select your name...</option>
                            <option value="Caiden">Caiden</option>
                            <option value="Charlotte">Charlotte</option>
                        </select>
                        <button class="btn btn-claim" id="mapClaimBtn" disabled>Claim This Role</button>
                    </div>
                    <div class="claimed-display" id="mapClaimedDisplay" style="display:none">
                        <div class="claimed-name map" id="mapClaimedName"></div>
                        <button class="btn btn-change" id="mapChangeBtn">Change</button>
                    </div>
                    <div style="font-size:0.7rem; color:#71717a; margin-top:0.5rem">C1-C3, B3</div>
                </div>
                <div class="role-box available" id="frontendRoleBox">
                    <h3>Frontend</h3>
                    <div class="pts frontend">14 pts</div>
                    <div class="status open">âš  Available</div>
                    <div class="claim-area" id="frontendClaimArea">
                        <select id="frontendRole">
                            <option value="">Select your name...</option>
                            <option value="Charlotte">Charlotte</option>
                            <option value="Caiden">Caiden</option>
                        </select>
                        <button class="btn btn-claim" id="frontendClaimBtn" disabled>Claim This Role</button>
                    </div>
                    <div class="claimed-display" id="frontendClaimedDisplay" style="display:none">
                        <div class="claimed-name frontend" id="frontendClaimedName"></div>
                        <button class="btn btn-change" id="frontendChangeBtn">Change</button>
                    </div>
                    <div style="font-size:0.7rem; color:#71717a; margin-top:0.5rem">E1-E3, D1-D2, G1</div>
                </div>
            </div>
        </div>

        <!-- Assignment Outline -->
        <div class="assignment-outline collapsed" id="assignmentOutline">
            <!-- Collapsible Header -->
            <div class="collapsible-header" id="rubricToggle">
                <div class="collapsible-header-left">
                    <h2 class="collapsible-title">Assignment Rubric / Task Mapping</h2>
                    <span class="collapsible-hint" id="rubricHint">Click to expand</span>
                </div>
                <div class="collapsible-chevron"></div>
            </div>
            
            <!-- Collapsible Content -->
            <div class="collapsible-content">
                <div class="outline-header">
                    <div class="outline-legend">
                        <div class="legend-item"><div class="legend-dot eli"></div><span>Eli â€” API</span></div>
                        <div class="legend-item"><div class="legend-dot map"></div><span>Map/UI</span></div>
                        <div class="legend-item"><div class="legend-dot frontend"></div><span>Frontend</span></div>
                        <div class="legend-item"><div class="legend-dot shared"></div><span>Shared</span></div>
                        <div class="legend-item"><div class="legend-dot done"></div><span>Done (starter)</span></div>
                    </div>
                </div>
                
                <!-- Base Requirements (45 pts = C) -->
            <div class="outline-section">
                <div class="outline-section-title grade-c">Dynamic Web Application â€” Base Requirements</div>
                
                <!-- Map Section -->
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-map"></span> Leaflet Map</div>
                    
                    <div class="outline-item clickable-task" data-task="B1">
                        <span class="outline-task-badge done">B1 âœ“</span>
                        <span class="outline-text">Show Leaflet map</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="B4">
                        <span class="outline-task-badge done">B4 âœ“</span>
                        <span class="outline-text">Pan and zoom with mouse interaction</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">Limit to St. Paul bounds (zoom 11-18)</div>
                        <div class="outline-sub-item">Already in starter code</div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="C1">
                        <span class="outline-task-badge map">C1</span>
                        <span class="outline-text">Input box + 'Go' button for location search</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="C2">
                        <span class="outline-task-badge map">C2</span>
                        <span class="outline-text">Use Nominatim API to convert address â†” lat/lng</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item"><code>GET nominatim.../search?q=ADDRESS</code></div>
                        <div class="outline-sub-item"><code>GET nominatim.../reverse?lat=X&lon=Y</code></div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="C3">
                        <span class="outline-task-badge map">C3</span>
                        <span class="outline-text">Center map on search result + clamp to St. Paul bounds</span>
                    </div>
                </div>
                
                <!-- API/Data Section -->
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-api"></span> St. Paul Crime API</div>
                    
                    <div class="outline-item clickable-task" data-task="A1">
                        <span class="outline-task-badge eli">A1</span>
                        <span class="outline-text">Connect to REST API (dialog for URL input)</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="A4">
                        <span class="outline-task-badge eli">A4</span>
                        <span class="outline-text">Fetch 1,000 most recent crimes by default</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item"><code>GET /incidents?limit=1000</code></div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="A2">
                        <span class="outline-task-badge eli">A2</span>
                        <span class="outline-text">Fetch neighborhoods (17 total)</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item"><code>GET /neighborhoods</code></div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="A3">
                        <span class="outline-task-badge eli">A3</span>
                        <span class="outline-text">Fetch crime codes for incident types</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item"><code>GET /codes</code></div>
                    </div>
                </div>
                
                <!-- Table Section -->
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-table"></span> Crime Table</div>
                    
                    <div class="outline-item clickable-task" data-task="D1">
                        <span class="outline-task-badge frontend">D1</span>
                        <span class="outline-text">Populate table with one row per crime</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">Use <code>neighborhood_name</code> not number</div>
                        <div class="outline-sub-item">Use <code>incident_type</code> not code</div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="D2">
                        <span class="outline-task-badge frontend">D2</span>
                        <span class="outline-text">Required columns: case_number, date/time, incident, address, neighborhood</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">Most recent crimes on top</div>
                        <div class="outline-sub-item">Only show crimes in visible map area</div>
                    </div>
                </div>
                
                <!-- Markers Section -->
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-marker"></span> Map Markers</div>
                    
                    <div class="outline-item clickable-task" data-task="B2">
                        <span class="outline-task-badge done">B2 âœ“</span>
                        <span class="outline-text">Marker positions array (17 neighborhood centers)</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="B3">
                        <span class="outline-task-badge map">B3</span>
                        <span class="outline-text">Draw markers with popup showing crime count per neighborhood</span>
                    </div>
                </div>
                
                <!-- Form Section -->
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-form"></span> New Incident Form</div>
                    
                    <div class="outline-item clickable-task" data-task="F1">
                        <span class="outline-task-badge eli">F1</span>
                        <span class="outline-text">Create input form for new crime incident</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="F2">
                        <span class="outline-task-badge eli">F2</span>
                        <span class="outline-text">Required fields: case_number, date, time, code, incident, police_grid, neighborhood_number, block</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="F3">
                        <span class="outline-task-badge eli">F3</span>
                        <span class="outline-text">Submit PUT request to API + validation</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item"><code>PUT /new-incident</code></div>
                        <div class="outline-sub-item">Show error if fields missing</div>
                    </div>
                </div>
                
                <!-- About Section -->
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-about"></span> About Page</div>
                    
                    <div class="outline-item clickable-task" data-task="G1">
                        <span class="outline-task-badge frontend">G1</span>
                        <span class="outline-text">Team bios with photos</span>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="G2">
                        <span class="outline-task-badge shared">G2</span>
                        <span class="outline-text">2-4 minute demo video with voiceover</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">Description of tools/frameworks used</div>
                        <div class="outline-sub-item">Six interesting findings</div>
                    </div>
                </div>
            </div>
            
            <!-- Extra Features (5 pts each) -->
            <div class="outline-section">
                <div class="outline-section-title grade-ab">Additional Features for B/A Grade</div>
                
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-filter"></span> Filter Controls</div>
                    
                    <div class="outline-item clickable-task" data-task="E1">
                        <span class="outline-task-badge frontend">E1</span>
                        <span class="outline-text">Date range filter (start/end date inputs)</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item"><code>/incidents?start_date=X&end_date=Y</code></div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="E2">
                        <span class="outline-task-badge frontend">E2</span>
                        <span class="outline-text">Crime type filter (checkboxes by incident_type)</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">OK to aggregate similar types (e.g. 1800-1885 = Narcotics)</div>
                    </div>
                    
                    <div class="outline-item clickable-task" data-task="E3">
                        <span class="outline-task-badge frontend">E3</span>
                        <span class="outline-text">Neighborhood filter (17 checkboxes)</span>
                    </div>
                </div>
                
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-style"></span> Table Styling</div>
                    
                    <div class="outline-item clickable-task" data-task="EXTRA">
                        <span class="outline-task-badge shared">+5</span>
                        <span class="outline-text">Color-code rows: violent (person), property, other</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">Include color legend</div>
                    </div>
                </div>
                
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-delete"></span> Delete Feature</div>
                    
                    <div class="outline-item clickable-task" data-task="EXTRA">
                        <span class="outline-task-badge shared">+5</span>
                        <span class="outline-text">Delete button per crime row â†’ <code>DELETE /incidents/:id</code></span>
                    </div>
                </div>
                
                <div class="outline-category">
                    <div class="outline-category-title"><span class="outline-category-icon cat-location"></span> Crime Location Marker</div>
                    
                    <div class="outline-item clickable-task" data-task="D3">
                        <span class="outline-task-badge eli">D3</span>
                        <span class="outline-text">Click table row â†’ show marker at exact crime location</span>
                    </div>
                    <div class="outline-sub-items">
                        <div class="outline-sub-item">Different icon from neighborhood markers</div>
                        <div class="outline-sub-item">Popup: date, time, incident, delete button</div>
                        <div class="outline-sub-item">Replace 'X' in address with '0' (e.g. 98X â†’ 980)</div>
                    </div>
                </div>
            </div>
            </div><!-- end collapsible-content -->
        </div>

        <!-- Eli's Kanban -->
        <div class="kanban-section">
            <div class="kanban-header">
                <div class="dot" style="background:#3b82f6"></div>
                <h2>Eli â€” Backend/API (16 pts)</h2>
                <span class="kanban-note">Wed-Fri</span>
            </div>
            <!-- Mini Progress Bar -->
            <div class="mini-progress-row">
                <div class="mini-progress-bar-container">
                    <div class="progress-bar-fill eli-fill" id="eli-progress-fill-mini" style="width: 0%"></div>
                    <div class="progress-bar-pending" id="eli-progress-pending-mini" style="left: 0%; width: 0%"></div>
                </div>
                <div class="mini-progress-percent">
                    <span class="percent-done" id="eli-percent-done-mini">0%</span>
                    <span class="percent-pending" id="eli-percent-pending-mini"></span>
                </div>
            </div>
            <div class="kanban-board" id="eli-board">
                <div class="kanban-col todo" data-status="todo">
                    <div class="kanban-col-header">To Do</div>
                    <div class="task-card ready" draggable="true" data-id="A1" data-pts="2" data-blocks="A2,A3,A4,F1,F3,B3,D1">
                        <div class="task-header">
                            <span class="task-id">A1</span>
                            <span class="task-title">API connection dialog</span>
                            <span class="task-pts">2 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Dialog prompts for REST API URL</li>
                                <li>Validate URL, store in <code>crime_url</code></li>
                            </ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">A2, A3, A4, F1, F3, B3, D1</span>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="A2" data-pts="2" data-prereq="A1" data-blocks="B3,E3">
                        <div class="task-header">
                            <span class="task-id">A2</span>
                            <span class="task-title">Fetch neighborhoods</span>
                            <span class="task-pts">2 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li><code>GET /neighborhoods</code></li>
                                <li>Store 17 neighborhoods in state</li>
                            </ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">B3, E3</span>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="A3" data-pts="3" data-prereq="A1" data-blocks="F2,E2">
                        <div class="task-header">
                            <span class="task-id">A3</span>
                            <span class="task-title">Fetch crime codes</span>
                            <span class="task-pts">3 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li><code>GET /codes</code></li>
                                <li>Store crime types in state</li>
                            </ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">F2, E2</span>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="A4" data-pts="3" data-prereq="A1" data-blocks="B3,D1,D2">
                        <div class="task-header">
                            <span class="task-id">A4</span>
                            <span class="task-title">Fetch incidents</span>
                            <span class="task-pts">3 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li><code>GET /incidents</code> with query params</li>
                                <li>Initial load of 1000 crimes</li>
                            </ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">B3, D1, D2</span>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="F1" data-pts="1" data-prereq="A1" data-blocks="F2">
                        <div class="task-header">
                            <span class="task-id">F1</span>
                            <span class="task-title">New incident form UI</span>
                            <span class="task-pts">1 pt</span>
                        </div>
                        <div class="task-details">
                            <ul><li>Form layout with all inputs</li></ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">F2</span>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="F2" data-pts="1" data-prereq="A3" data-blocks="F3">
                        <div class="task-header">
                            <span class="task-id">F2</span>
                            <span class="task-title">Form required fields</span>
                            <span class="task-pts">1 pt</span>
                        </div>
                        <div class="task-details">
                            <ul><li>case_number, date, time, code, incident, police_grid, neighborhood_number, block</li></ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">F3</span>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="F3" data-pts="1" data-prereq="A1">
                        <div class="task-header">
                            <span class="task-id">F3</span>
                            <span class="task-title">POST to API</span>
                            <span class="task-pts">1 pt</span>
                        </div>
                        <div class="task-details">
                            <ul><li><code>POST /new-incident</code></li></ul>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="D3" data-pts="3" data-prereq="D1,D2">
                        <div class="task-header">
                            <span class="task-id">D3</span>
                            <span class="task-title">Address lookup</span>
                            <span class="task-pts">3 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Nominatim reverse geocoding</li>
                                <li>Rate limit: 1 req/sec</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="kanban-col progress" data-status="progress">
                    <div class="kanban-col-header">In Progress</div>
                </div>
                <div class="kanban-col done" data-status="done">
                    <div class="kanban-col-header">Done</div>
                </div>
            </div>
        </div>

        <!-- Map/UI Kanban -->
        <div class="kanban-section">
            <div class="kanban-header">
                <div class="dot" style="background:#8b5cf6"></div>
                <h2 id="mapBoardTitle">Map/UI Role (8 pts)</h2>
                <span class="kanban-note">âš ï¸ Starts Thu after Eli completes A1-A4</span>
            </div>
            <!-- Mini Progress Bar -->
            <div class="mini-progress-row">
                <div class="mini-progress-bar-container">
                    <div class="progress-bar-fill map-fill" id="map-progress-fill-mini" style="width: 0%"></div>
                    <div class="progress-bar-pending" id="map-progress-pending-mini" style="left: 0%; width: 0%"></div>
                </div>
                <div class="mini-progress-percent">
                    <span class="percent-done" id="map-percent-done-mini">0%</span>
                    <span class="percent-pending" id="map-percent-pending-mini"></span>
                </div>
            </div>
            <div class="kanban-board" id="map-board">
                <div class="kanban-col todo" data-status="todo">
                    <div class="kanban-col-header">To Do</div>
                    <div class="task-card ready" draggable="true" data-id="C1" data-pts="2" data-blocks="C2">
                        <div class="task-header">
                            <span class="task-id">C1</span>
                            <span class="task-title">Location search input</span>
                            <span class="task-pts">2 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Text input for address or lat/lng</li>
                                <li>Search button</li>
                            </ul>
                        </div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">C2</span>
                        </div>
                    </div>
                    <div class="task-card blocked" draggable="true" data-id="C2" data-pts="2" data-blocks="C3">
                        <div class="task-header">
                            <span class="task-id">C2</span>
                            <span class="task-title">Nominatim geocoding</span>
                            <span class="task-pts">2 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Forward: address â†’ coordinates</li>
                                <li><code>GET nominatim.../search?q=ADDRESS</code></li>
                            </ul>
                        </div>
                        <div class="prereq-warning">Requires: <span class="missing">C1</span></div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">C3</span>
                        </div>
                    </div>
                    <div class="task-card blocked" draggable="true" data-id="C3" data-pts="1">
                        <div class="task-header">
                            <span class="task-id">C3</span>
                            <span class="task-title">Center map on result</span>
                            <span class="task-pts">1 pt</span>
                        </div>
                        <div class="task-details">
                            <ul><li><code>map.leaflet.setView([lat, lng], zoom)</code></li></ul>
                        </div>
                        <div class="prereq-warning">Requires: <span class="missing">C2</span></div>
                    </div>
                    <div class="task-card blocked" draggable="true" data-id="B3" data-pts="3">
                        <div class="task-header">
                            <span class="task-id">B3</span>
                            <span class="task-title">Markers + crime counts</span>
                            <span class="task-pts">3 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>17 markers at neighborhood centers</li>
                                <li>Show name + count in popup</li>
                                <li>Use <code>neighborhood_markers</code> array</li>
                            </ul>
                        </div>
                        <div class="prereq-warning">Requires: <span class="missing">A2</span>, <span class="missing">A4</span> (Eli)</div>
                    </div>
                </div>
                <div class="kanban-col progress" data-status="progress">
                    <div class="kanban-col-header">In Progress</div>
                </div>
                <div class="kanban-col done" data-status="done">
                    <div class="kanban-col-header">Done</div>
                </div>
            </div>
        </div>

        <!-- Frontend Kanban -->
        <div class="kanban-section">
            <div class="kanban-header">
                <div class="dot" style="background:#ec4899"></div>
                <h2 id="frontendBoardTitle">Frontend Role (14 pts)</h2>
                <span class="kanban-note">âš ï¸ Data tasks start Thu after Eli completes A1-A4</span>
            </div>
            <!-- Mini Progress Bar -->
            <div class="mini-progress-row">
                <div class="mini-progress-bar-container">
                    <div class="progress-bar-fill frontend-fill" id="frontend-progress-fill-mini" style="width: 0%"></div>
                    <div class="progress-bar-pending" id="frontend-progress-pending-mini" style="left: 0%; width: 0%"></div>
                </div>
                <div class="mini-progress-percent">
                    <span class="percent-done" id="frontend-percent-done-mini">0%</span>
                    <span class="percent-pending" id="frontend-percent-pending-mini"></span>
                </div>
            </div>
            <div class="kanban-board" id="frontend-board">
                <div class="kanban-col todo" data-status="todo">
                    <div class="kanban-col-header">To Do</div>
                    <div class="task-card ready" draggable="true" data-id="E1" data-pts="2">
                        <div class="task-header">
                            <span class="task-id">E1</span>
                            <span class="task-title">Date range filter</span>
                            <span class="task-pts">2 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Start date + end date inputs</li>
                                <li>Pass to <code>/incidents?start_date=&end_date=</code></li>
                            </ul>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="E2" data-pts="2">
                        <div class="task-header">
                            <span class="task-id">E2</span>
                            <span class="task-title">Crime type filter</span>
                            <span class="task-pts">2 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Dropdown with crime codes</li>
                                <li>Pass to <code>/incidents?code=110,120</code></li>
                            </ul>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="E3" data-pts="1">
                        <div class="task-header">
                            <span class="task-id">E3</span>
                            <span class="task-title">Neighborhood filter</span>
                            <span class="task-pts">1 pt</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Checkboxes for 17 neighborhoods</li>
                                <li>Pass to <code>/incidents?neighborhood=1,2,3</code></li>
                            </ul>
                        </div>
                    </div>
                    <div class="task-card ready" draggable="true" data-id="G1" data-pts="1">
                        <div class="task-header">
                            <span class="task-id">G1</span>
                            <span class="task-title">Team bios + photos</span>
                            <span class="task-pts">1 pt</span>
                        </div>
                        <div class="task-details">
                            <ul><li>About page with photo and bio for each member</li></ul>
                        </div>
                    </div>
                    <div class="task-card blocked" draggable="true" data-id="D1" data-pts="3" data-blocks="D2,D3">
                        <div class="task-header">
                            <span class="task-id">D1</span>
                            <span class="task-title">Display crime table</span>
                            <span class="task-pts">3 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>HTML table with crime data</li>
                                <li>Foundation CSS styling</li>
                            </ul>
                        </div>
                        <div class="prereq-warning">Requires: <span class="missing">A4</span> (Eli)</div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">D2, D3</span>
                        </div>
                    </div>
                    <div class="task-card blocked" draggable="true" data-id="D2" data-pts="4" data-blocks="D3">
                        <div class="task-header">
                            <span class="task-id">D2</span>
                            <span class="task-title">Required table columns</span>
                            <span class="task-pts">4 pts</span>
                        </div>
                        <div class="task-details">
                            <ul>
                                <li>Case number, Date/time</li>
                                <li>Incident type, Address, Neighborhood</li>
                            </ul>
                        </div>
                        <div class="prereq-warning">Requires: <span class="missing">D1</span></div>
                        <div class="blocks-indicator">
                            <span class="blocks-label">Unlocks:</span>
                            <span class="blocks-list">D3</span>
                        </div>
                    </div>
                </div>
                <div class="kanban-col progress" data-status="progress">
                    <div class="kanban-col-header">In Progress</div>
                </div>
                <div class="kanban-col done" data-status="done">
                    <div class="kanban-col-header">Done</div>
                </div>
            </div>
        </div>

        <!-- Timeline -->
        <div class="timeline-section">
            <h2>Timeline</h2>
            
            <div class="unified-timeline">
                <!-- Header row with blocked/unblocked indicators -->
                <div class="timeline-header-row">
                    <div class="timeline-label-col"></div>
                    <div class="timeline-phase blocked-phase">
                        <div class="phase-header">
                            <span class="phase-icon">ðŸ”’</span>
                            <span class="phase-title">WED</span>
                        </div>
                        <div class="phase-subtitle">Eli builds foundation</div>
                    </div>
                    <div class="timeline-unlock-bar">
                        <div class="unlock-line"></div>
                        <div class="unlock-icon">âœ“</div>
                        <div class="unlock-text">DATA READY</div>
                    </div>
                    <div class="timeline-phase unblocked-phase">
                        <div class="phase-header">
                            <span class="phase-icon">ðŸ”“</span>
                            <span class="phase-title">THU â€” FRI</span>
                        </div>
                        <div class="phase-subtitle">All features unlocked</div>
                    </div>
                    <div class="timeline-deadline">
                        <div class="deadline-label">DEADLINE</div>
                        <div class="deadline-time">Fri 10pm</div>
                    </div>
                </div>
                
                <!-- Eli row -->
                <div class="timeline-person-row">
                    <div class="timeline-label-col">
                        <div class="person-badge eli-badge">Eli</div>
                        <div class="person-role">Backend/API</div>
                    </div>
                    <div class="timeline-task-col blocked-col">
                        <div class="task-block eli-task required">
                            <div class="task-ids">A1-A4, F1-F3</div>
                            <div class="task-label">REQUIRED</div>
                        </div>
                    </div>
                    <div class="timeline-unlock-bar"></div>
                    <div class="timeline-task-col unblocked-col">
                        <div class="task-block eli-task">
                            <div class="task-ids">D3</div>
                            <div class="task-label">address lookup</div>
                        </div>
                        <div class="task-block help-task">
                            <div class="task-ids">Help team</div>
                        </div>
                    </div>
                    <div class="timeline-deadline">
                        <div class="task-block video-task">Video</div>
                    </div>
                </div>
                
                <!-- Map/UI row -->
                <div class="timeline-person-row">
                    <div class="timeline-label-col">
                        <div class="person-badge map-badge" id="mapTimelineName">Map/UI</div>
                        <div class="person-role">8 pts</div>
                    </div>
                    <div class="timeline-task-col blocked-col">
                        <div class="task-block optional-task">
                            <div class="task-ids">C1</div>
                            <div class="task-label">UI only â€¢ optional</div>
                        </div>
                    </div>
                    <div class="timeline-unlock-bar"></div>
                    <div class="timeline-task-col unblocked-col">
                        <div class="task-block map-task">
                            <div class="task-ids">B3, C2, C3</div>
                            <div class="task-label">needs data</div>
                        </div>
                        <div class="task-block help-task">
                            <div class="task-ids">Extras</div>
                        </div>
                    </div>
                    <div class="timeline-deadline">
                        <div class="task-block video-task">Video</div>
                    </div>
                </div>
                
                <!-- Frontend row -->
                <div class="timeline-person-row">
                    <div class="timeline-label-col">
                        <div class="person-badge frontend-badge" id="frontendTimelineName">Frontend</div>
                        <div class="person-role">14 pts</div>
                    </div>
                    <div class="timeline-task-col blocked-col">
                        <div class="task-block optional-task">
                            <div class="task-ids">E1-E3, G1</div>
                            <div class="task-label">UI only â€¢ optional</div>
                        </div>
                    </div>
                    <div class="timeline-unlock-bar"></div>
                    <div class="timeline-task-col unblocked-col">
                        <div class="task-block frontend-task">
                            <div class="task-ids">D1, D2</div>
                            <div class="task-label">needs data</div>
                        </div>
                        <div class="task-block help-task">
                            <div class="task-ids">Polish</div>
                        </div>
                    </div>
                    <div class="timeline-deadline">
                        <div class="task-block submit-task">Submit</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Already Done -->
        <div class="done-section">
            <h2>âœ“ Already Done (7 pts in starter code)</h2>
            <div class="done-list">
                <div class="done-item">B1: Leaflet map (2 pts)</div>
                <div class="done-item">B2: Boundaries (2 pts)</div>
                <div class="done-item">B4: Pan/zoom (3 pts)</div>
            </div>
        </div>

        <!-- Video reminder -->
        <div class="kanban-section" style="margin-top: 1rem;">
            <div class="kanban-header">
                <div class="dot" style="background:#10b981"></div>
                <h2>G2 â€” Demo Video (1 pt)</h2>
                <span class="kanban-note">Friday @ 6pm â€” All three</span>
            </div>
            <div style="padding: 0.5rem; color: #a1a1aa; font-size: 0.85rem;">
                Record 2-3 minute walkthrough showing all features. Upload to About page.
            </div>
        </div>
    </div>

    <script>
        // Collapsible Rubric
        (function() {
            const rubric = document.getElementById('assignmentOutline');
            const toggle = document.getElementById('rubricToggle');
            const hint = document.getElementById('rubricHint');
            
            // Load saved state (default to collapsed)
            const savedState = localStorage.getItem('rubricCollapsed');
            if (savedState === 'false') {
                rubric.classList.remove('collapsed');
                hint.textContent = 'Click to collapse';
            } else {
                // Default to collapsed
                rubric.classList.add('collapsed');
                hint.textContent = 'Click to expand';
            }
            
            // Toggle handler
            toggle.addEventListener('click', function() {
                rubric.classList.toggle('collapsed');
                const isCollapsed = rubric.classList.contains('collapsed');
                localStorage.setItem('rubricCollapsed', isCollapsed);
                hint.textContent = isCollapsed ? 'Click to expand' : 'Click to collapse';
            });
        })();

        // Countdown - Deadline: Friday Dec 12, 2025 @ 10pm
        function updateCountdown() {
            // Use current year to handle year boundary
            const now = new Date();
            let year = now.getFullYear();
            // If it's past Dec 12 this year, assume next year
            const testDate = new Date(year, 11, 12, 22, 0, 0); // Dec 12, 10pm
            if (now > testDate) {
                year++;
            }
            const deadline = new Date(year, 11, 12, 22, 0, 0); // Month is 0-indexed, so 11 = December
            
            const diff = deadline - now;
            if (diff <= 0) {
                document.getElementById('countdown').textContent = 'DEADLINE PASSED';
                document.getElementById('countdown').style.background = '#7f1d1d';
                return;
            }
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            if (days > 0) {
                document.getElementById('countdown').textContent = `${days}d ${hours}h ${mins}m left`;
            } else {
                document.getElementById('countdown').textContent = `${hours}h ${mins}m left`;
            }
            
            // Change color based on urgency
            if (days === 0 && hours < 6) {
                document.getElementById('countdown').style.background = '#dc2626';
            } else if (days === 0) {
                document.getElementById('countdown').style.background = '#ea580c';
            } else {
                document.getElementById('countdown').style.background = '#059669';
            }
        }
        updateCountdown();
        setInterval(updateCountdown, 60000);

        // Role management
        const mapRole = document.getElementById('mapRole');
        const frontendRole = document.getElementById('frontendRole');
        const mapClaimBtn = document.getElementById('mapClaimBtn');
        const frontendClaimBtn = document.getElementById('frontendClaimBtn');
        const mapChangeBtn = document.getElementById('mapChangeBtn');
        const frontendChangeBtn = document.getElementById('frontendChangeBtn');
        const mapRoleBox = document.getElementById('mapRoleBox');
        const frontendRoleBox = document.getElementById('frontendRoleBox');
        const mapClaimArea = document.getElementById('mapClaimArea');
        const mapClaimedDisplay = document.getElementById('mapClaimedDisplay');
        const frontendClaimArea = document.getElementById('frontendClaimArea');
        const frontendClaimedDisplay = document.getElementById('frontendClaimedDisplay');
        const mapClaimedName = document.getElementById('mapClaimedName');
        const frontendClaimedName = document.getElementById('frontendClaimedName');

        function updateRoleUI() {
            const mapVal = localStorage.getItem('mapRole') || '';
            const frontendVal = localStorage.getItem('frontendRole') || '';
            const mapBoardTitle = document.getElementById('mapBoardTitle');
            const frontendBoardTitle = document.getElementById('frontendBoardTitle');
            const mapTimelineName = document.getElementById('mapTimelineName');
            const frontendTimelineName = document.getElementById('frontendTimelineName');
            
            // Map role
            if (mapVal) {
                mapRoleBox.classList.remove('available');
                mapRoleBox.classList.add('claimed');
                mapRoleBox.querySelector('.status').className = 'status taken';
                mapRoleBox.querySelector('.status').textContent = 'âœ“ Assigned';
                mapClaimArea.style.display = 'none';
                mapClaimedDisplay.style.display = 'block';
                mapClaimedName.textContent = mapVal;
                // Update board title and timeline
                mapBoardTitle.innerHTML = `<span class="map">${mapVal}</span> â€” Map/UI (8 pts)`;
                if (mapTimelineName) mapTimelineName.textContent = mapVal;
                // Disable this option in frontend dropdown
                Array.from(frontendRole.options).forEach(opt => {
                    opt.disabled = opt.value === mapVal;
                });
            } else {
                mapRoleBox.classList.add('available');
                mapRoleBox.classList.remove('claimed');
                mapRoleBox.querySelector('.status').className = 'status open';
                mapRoleBox.querySelector('.status').textContent = 'âš  Available';
                mapClaimArea.style.display = 'block';
                mapClaimedDisplay.style.display = 'none';
                mapRole.value = '';
                mapBoardTitle.textContent = 'Map/UI Role (8 pts)';
                if (mapTimelineName) mapTimelineName.textContent = 'Map/UI';
                Array.from(frontendRole.options).forEach(opt => opt.disabled = false);
            }
            
            // Frontend role
            if (frontendVal) {
                frontendRoleBox.classList.remove('available');
                frontendRoleBox.classList.add('claimed');
                frontendRoleBox.querySelector('.status').className = 'status taken';
                frontendRoleBox.querySelector('.status').textContent = 'âœ“ Assigned';
                frontendClaimArea.style.display = 'none';
                frontendClaimedDisplay.style.display = 'block';
                frontendClaimedName.textContent = frontendVal;
                // Update board title and timeline
                frontendBoardTitle.innerHTML = `<span class="frontend">${frontendVal}</span> â€” Frontend (14 pts)`;
                if (frontendTimelineName) frontendTimelineName.textContent = frontendVal;
                // Disable this option in map dropdown
                Array.from(mapRole.options).forEach(opt => {
                    opt.disabled = opt.value === frontendVal;
                });
            } else {
                frontendRoleBox.classList.add('available');
                frontendRoleBox.classList.remove('claimed');
                frontendRoleBox.querySelector('.status').className = 'status open';
                frontendRoleBox.querySelector('.status').textContent = 'âš  Available';
                frontendClaimArea.style.display = 'block';
                frontendClaimedDisplay.style.display = 'none';
                frontendRole.value = '';
                frontendBoardTitle.textContent = 'Frontend Role (14 pts)';
                if (frontendTimelineName) frontendTimelineName.textContent = 'Frontend';
                Array.from(mapRole.options).forEach(opt => opt.disabled = false);
            }
            
            // Re-apply cross-disabling
            if (mapVal) {
                Array.from(frontendRole.options).forEach(opt => {
                    if (opt.value === mapVal) opt.disabled = true;
                });
            }
            if (frontendVal) {
                Array.from(mapRole.options).forEach(opt => {
                    if (opt.value === frontendVal) opt.disabled = true;
                });
            }
        }

        // Enable/disable claim buttons based on selection
        mapRole.addEventListener('change', () => {
            mapClaimBtn.disabled = !mapRole.value;
        });
        frontendRole.addEventListener('change', () => {
            frontendClaimBtn.disabled = !frontendRole.value;
        });

        // Claim buttons
        mapClaimBtn.addEventListener('click', () => {
            if (mapRole.value) {
                localStorage.setItem('mapRole', mapRole.value);
                updateRoleUI();
            }
        });
        frontendClaimBtn.addEventListener('click', () => {
            if (frontendRole.value) {
                localStorage.setItem('frontendRole', frontendRole.value);
                updateRoleUI();
            }
        });

        // Change buttons
        mapChangeBtn.addEventListener('click', () => {
            localStorage.removeItem('mapRole');
            updateRoleUI();
        });
        frontendChangeBtn.addEventListener('click', () => {
            localStorage.removeItem('frontendRole');
            updateRoleUI();
        });

        // Initialize
        updateRoleUI();

        // Drag and drop
        const boards = document.querySelectorAll('.kanban-board');
        const savedState = JSON.parse(localStorage.getItem('kanbanState') || '{}');

        // Store original task order for each board
        const originalOrder = {};
        boards.forEach(board => {
            const todoCol = board.querySelector('.kanban-col.todo');
            originalOrder[board.id] = Array.from(todoCol.querySelectorAll('.task-card')).map(c => c.dataset.id);
        });

        // Function to insert card in correct position in todo column
        function insertInOrder(board, todoCol, card) {
            const taskId = card.dataset.id;
            const order = originalOrder[board.id];
            const taskIndex = order.indexOf(taskId);
            
            // Find the right position to insert
            const existingCards = Array.from(todoCol.querySelectorAll('.task-card'));
            let inserted = false;
            
            for (const existingCard of existingCards) {
                const existingIndex = order.indexOf(existingCard.dataset.id);
                if (taskIndex < existingIndex) {
                    todoCol.insertBefore(card, existingCard);
                    inserted = true;
                    break;
                }
            }
            
            if (!inserted) {
                todoCol.appendChild(card);
            }
        }

        // Restore saved state (respecting original order for todo)
        boards.forEach(board => {
            const boardId = board.id;
            if (savedState[boardId]) {
                // First, move non-todo items
                Object.entries(savedState[boardId]).forEach(([taskId, status]) => {
                    if (status !== 'todo') {
                        const card = board.querySelector(`[data-id="${taskId}"]`);
                        const col = board.querySelector(`[data-status="${status}"]`);
                        if (card && col) {
                            col.appendChild(card);
                            if (status === 'done') card.classList.add('done-card');
                            else card.classList.remove('done-card');
                        }
                    }
                });
            }
        });

        // Setup drag events
        document.querySelectorAll('.task-card').forEach(card => {
            card.addEventListener('dragstart', e => {
                e.dataTransfer.setData('text/plain', card.dataset.id);
                card.classList.add('dragging');
            });
            card.addEventListener('dragend', () => card.classList.remove('dragging'));
        });

        document.querySelectorAll('.kanban-col').forEach(col => {
            col.addEventListener('dragover', e => e.preventDefault());
            col.addEventListener('drop', e => {
                e.preventDefault();
                const taskId = e.dataTransfer.getData('text/plain');
                const board = col.closest('.kanban-board');
                const card = board.querySelector(`[data-id="${taskId}"]`);
                if (card) {
                    const status = col.dataset.status;
                    
                    // If moving to todo, insert in original order
                    if (status === 'todo') {
                        insertInOrder(board, col, card);
                    } else {
                        col.appendChild(card);
                    }
                    
                    if (status === 'done') card.classList.add('done-card');
                    else card.classList.remove('done-card');
                    
                    saveState();
                    updateProgress();
                }
            });
        });

        function saveState() {
            const state = {};
            boards.forEach(board => {
                state[board.id] = {};
                board.querySelectorAll('.task-card').forEach(card => {
                    const col = card.closest('.kanban-col');
                    state[board.id][card.dataset.id] = col.dataset.status;
                });
            });
            localStorage.setItem('kanbanState', JSON.stringify(state));
        }

        function updateProgress() {
            let completed = 7; // starter code
            document.querySelectorAll('.kanban-col.done .task-card').forEach(card => {
                completed += parseInt(card.dataset.pts);
            });
            document.getElementById('completedPts').textContent = completed;
            document.getElementById('remainingPts').textContent = Math.max(0, 45 - completed);
            
            // Update individual progress bars
            updatePersonProgress('eli', 'eli-board', 16);
            updatePersonProgress('map', 'map-board', 8);
            updatePersonProgress('frontend', 'frontend-board', 14);
            
            // Update progress bar names with claimed names
            const mapVal = localStorage.getItem('mapRole') || '';
            const frontendVal = localStorage.getItem('frontendRole') || '';
            if (mapVal) document.getElementById('map-progress-name').textContent = mapVal;
            else document.getElementById('map-progress-name').textContent = 'Map/UI';
            if (frontendVal) document.getElementById('frontend-progress-name').textContent = frontendVal;
            else document.getElementById('frontend-progress-name').textContent = 'Frontend';
        }
        
        function updatePersonProgress(person, boardId, totalPts) {
            const board = document.getElementById(boardId);
            if (!board) return;
            
            let donePts = 0;
            let progressPts = 0;
            
            // Count done tasks
            board.querySelectorAll('.kanban-col.done .task-card').forEach(card => {
                donePts += parseInt(card.dataset.pts);
            });
            
            // Count in-progress tasks
            board.querySelectorAll('.kanban-col.progress .task-card').forEach(card => {
                progressPts += parseInt(card.dataset.pts);
            });
            
            const donePercent = (donePts / totalPts) * 100;
            const progressPercent = (progressPts / totalPts) * 100;
            
            // Update both main and mini bars
            ['', '-mini'].forEach(suffix => {
                const fill = document.getElementById(`${person}-progress-fill${suffix}`);
                const pending = document.getElementById(`${person}-progress-pending${suffix}`);
                const percentDone = document.getElementById(`${person}-percent-done${suffix}`);
                const percentPending = document.getElementById(`${person}-percent-pending${suffix}`);
                
                if (fill) fill.style.width = `${donePercent}%`;
                if (pending) {
                    pending.style.left = `${donePercent}%`;
                    pending.style.width = `${progressPercent}%`;
                }
                if (percentDone) percentDone.textContent = `${Math.round(donePercent)}%`;
                if (percentPending) {
                    if (progressPts > 0) {
                        percentPending.textContent = ` +${Math.round(progressPercent)}%`;
                    } else {
                        percentPending.textContent = '';
                    }
                }
            });
            
            // Update text only on main bar
            const text = document.getElementById(`${person}-progress-text`);
            if (text) text.textContent = `${donePts}${progressPts > 0 ? '+'+progressPts : ''} / ${totalPts} pts`;
        }
        
        updateProgress();

        // Interactive Task Map Highlighting
        function highlightTask(taskId) {
            // Clear previous highlights
            document.querySelectorAll('.map-node.highlighted, .category-node.highlighted, .outline-item.highlighted, .outline-item.flash-highlight').forEach(n => {
                n.classList.remove('highlighted', 'flash-highlight');
            });
            
            // Highlight all matching nodes (in both maps and outline)
            document.querySelectorAll(`[data-task="${taskId}"]`).forEach(node => {
                node.classList.add('highlighted');
            });
            
            // Auto-expand rubric if collapsed and scroll to outline item
            const rubric = document.getElementById('assignmentOutline');
            const hint = document.getElementById('rubricHint');
            const outlineItem = document.querySelector(`.outline-item[data-task="${taskId}"]`);
            
            if (outlineItem) {
                // Expand rubric if collapsed
                if (rubric && rubric.classList.contains('collapsed')) {
                    rubric.classList.remove('collapsed');
                    if (hint) hint.textContent = 'Click to collapse';
                    localStorage.setItem('rubricCollapsed', 'false');
                }
                
                // Wait for expand animation, then scroll to outline item
                setTimeout(() => {
                    outlineItem.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    outlineItem.classList.add('flash-highlight');
                    // Remove flash after animation
                    setTimeout(() => outlineItem.classList.remove('flash-highlight'), 2000);
                }, 350);
            }
        }
        
        // Make all map nodes clickable
        document.querySelectorAll('.map-node, .category-node').forEach(node => {
            node.addEventListener('click', (e) => {
                e.stopPropagation();
                const taskId = node.dataset.task;
                if (taskId) {
                    highlightTask(taskId);
                }
            });
        });
        
        // Make task IDs in Kanban cards clickable
        document.querySelectorAll('.task-id').forEach(taskIdEl => {
            const taskId = taskIdEl.textContent.trim();
            taskIdEl.style.cursor = 'pointer';
            taskIdEl.setAttribute('data-task-link', taskId);
            taskIdEl.addEventListener('click', (e) => {
                e.stopPropagation();
                highlightTask(taskId);
            });
        });
        
        // Make timeline task links clickable
        document.querySelectorAll('.task-ids').forEach(el => {
            el.style.cursor = 'pointer';
            el.addEventListener('click', (e) => {
                const text = el.textContent.trim();
                // Extract first task ID (e.g., "A1" from "A1-A4" or "A1, A2")
                const match = text.match(/([A-G]\d)/);
                if (match) {
                    e.preventDefault();
                    e.stopPropagation();
                    highlightTask(match[1]);
                }
            });
        });
        
        // Make outline items clickable
        document.querySelectorAll('.outline-item.clickable-task').forEach(item => {
            const taskId = item.dataset.task;
            if (taskId && taskId !== 'EXTRA') {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    highlightTask(taskId);
                });
            }
        });
        
        // Clear highlights when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.map-node') && 
                !e.target.closest('.category-node') && 
                !e.target.closest('.task-id') &&
                !e.target.closest('[data-task-link]') &&
                !e.target.closest('.task-ids') &&
                !e.target.closest('.outline-item.clickable-task')) {
                document.querySelectorAll('.map-node.highlighted, .category-node.highlighted, .outline-item.highlighted').forEach(n => {
                    n.classList.remove('highlighted');
                });
            }
        });
        
        // Update map nodes based on Kanban status
        function updateMapNodeStatus() {
            // Reset styles on dynamic nodes
            document.querySelectorAll('.map-node, .category-node').forEach(node => {
                if (!node.classList.contains('done-node')) {
                    node.style.borderColor = '';
                    node.style.borderWidth = '';
                    node.style.background = '';
                }
            });
            
            // Mark completed tasks green
            document.querySelectorAll('.kanban-col.done .task-card').forEach(card => {
                const taskId = card.dataset.id;
                document.querySelectorAll(`[data-task="${taskId}"]`).forEach(node => {
                    if (!node.classList.contains('done-node')) {
                        node.style.background = '#065f46';
                        node.style.borderColor = '#10b981';
                        node.style.borderWidth = '2px';
                    }
                });
            });
            
            // Mark in-progress tasks with yellow border
            document.querySelectorAll('.kanban-col.progress .task-card').forEach(card => {
                const taskId = card.dataset.id;
                document.querySelectorAll(`[data-task="${taskId}"]`).forEach(node => {
                    if (!node.classList.contains('done-node') && node.style.background !== 'rgb(6, 95, 70)') {
                        node.style.borderColor = '#eab308';
                        node.style.borderWidth = '2px';
                    }
                });
            });
        }
        
        // Hook into saveState to update map
        const originalSaveState = saveState;
        saveState = function() {
            originalSaveState();
            updateMapNodeStatus();
        };
        updateMapNodeStatus();
    </script>
</body>
</html>
